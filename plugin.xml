<?xml version='1.0' encoding='utf-8'?>
<plugin xmlns="http://apache.org/cordova/ns/plugins/1.0"
  xmlns:android="http://schemas.android.com/apk/res/android"
  id="cordova-plugin-epsonposprinter" version="0.0.1">
  <name>EpsonPosPrinter</name>
  <description>Cordova Epson Pos Printer Plugin</description>
  <keywords>cordova,epson,pos printer</keywords>

  <js-module src="www/epson.js" name="EpsonPosPrinter">
    <clobbers target="cordova.plugins.epsonPosPrinter" />
  </js-module>

  <platform name="android">
    <config-file target="res/xml/config.xml" parent="/*">
      <feature name="EpsonPrinter" >
        <param name="android-package" value="be.betalife.cordova.plugin.epsonposprinter.EpsonPrinter"/>
      </feature>
    </config-file>
    <config-file target="AndroidManifest.xml" parent="/*">
      <uses-permission android:name="android.permission.BLUETOOTH"/>
      <uses-permission android:name="android.permission.BLUETOOTH_ADMIN"/>
      <uses-permission android:name="android.permission.INTERNET"/>
      <uses-permission android:name="android.permission.WRITE_EXTERNAL_STORAGE"/>
      <uses-permission android:name="android.permission.ACCESS_COARSE_LOCATION"/>
      <intent-filter>
        <action android:name="android.hardware.usb.action.USB_DEVICE_ATTACHED" />
      </intent-filter>
      <meta-data android:name="android.hardware.usb.action.USB_DEVICE_ATTACHED" android:resource="@xml/device_filter" />
      <intent-filter>
              <action android:name="android.hardware.usb.action.USB_ACCESSORY_ATTACHED" />
          </intent-filter>
          <meta-data android:name="android.hardware.usb.action.USB_ACCESSORY_ATTACHED" android:resource="@xml/accessory_filter" />
    </config-file>

    <config-file target="res/values/strings.xml" parent="/*">
      <string name="handlingmsg_warn_receipt_near_end">Roll paper is nearly end.\n</string>
      <string name="handlingmsg_warn_battery_near_end">Battery level of printer is low.\n</string>
      <string name="handlingmsg_err_no_response">Please check the connection of the printer and the mobile terminal.\nConnection get lost.\n</string>
      <string name="handlingmsg_err_cover_open">Please close roll paper cover.\n</string>
      <string name="handlingmsg_err_receipt_end">Please check roll paper.\n</string>
      <string name="handlingmsg_err_paper_feed">Please release a paper feed switch.\n</string>
      <string name="handlingmsg_err_autocutter">Please remove jammed paper and close roll paper cover.\nRemove any jammed paper or foreign substances in the printer, and then turn the printer off and turn the printer on again.\n</string>
      <string name="handlingmsg_err_need_recover">Then, If the printer doesn\'t recover from error, please cycle the power switch.\n</string>
      <string name="handlingmsg_err_unrecover">Please cycle the power switch of the printer.\nIf same errors occurred even power cycled, the printer may out of order.</string>
      <string name="handlingmsg_err_overheat">Please wait until error LED of the printer turns off. \n</string>
      <string name="handlingmsg_err_head">Print head of printer is hot.\n</string>
      <string name="handlingmsg_err_motor">Motor Driver IC of printer is hot.\n</string>
      <string name="handlingmsg_err_battery">Battery of printer is hot.\n</string>
      <string name="handlingmsg_err_wrong_paper">Please set correct roll paper.\n</string>
      <string name="handlingmsg_err_battery_real_end">Please connect AC adapter or change the battery.\nBattery of printer is almost empty.\n</string>
      <string name="handlingmsg_err_offline">Printer is offline.\n</string>
    </config-file>
    <source-file src="src/android/res/xml/device_filter.xml" target-dir="res/xml/" />
    <source-file src="src/android/EpsonPrinter.java" target-dir="src/be/betalife/cordova/plugin/epsonposprinter" />
    <!-- <source-file src="src/android/DiscoveryFunc.java" target-dir="src/be/betalife/cordova/plugin/epsonposprinter" /> -->
    <source-file src="src/android/ShowMsg.java" target-dir="src/be/betalife/cordova/plugin/epsonposprinter" />
    <source-file src="libs/ePOS2.jar" target-dir="libs" />
    <source-file src="libs/armeabi/libepos2.so" target-dir="libs/armeabi" />
    <resource-file src="src/android/res/drawable/store.png" target="res/drawable/store.png" />

  </platform>

</plugin>
